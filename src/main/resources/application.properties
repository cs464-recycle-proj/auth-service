# =========================
# Service Configuration
# =========================
spring.application.name=auth-service
server.port=8081

# Load environment variables from .env if present (local dev)
spring.config.import=optional:file:.env[.properties]


# =========================
# JWT Settings
# =========================
# Base64-encoded HMAC secret used to sign JWTs
jwt.secret=${JWT_SECRET}
# Token lifetime in milliseconds
jwt.expiration-time=${JWT_EXPIRATION_TIME}
# Issuer claim for tokens
jwt.issuer=${JWT_ISSUER}

# =========================
# Cookie Settings
# =========================
jwt.cookie.name=AUTH_TOKEN
# 24 hours
jwt.cookie.max-age=86400
# Set to true in production behind HTTPS
jwt.cookie.secure=false
# Lax | Strict | None
jwt.cookie.same-site=Lax
# Optional cookie domain (leave empty for host-only)
jwt.cookie.domain=
jwt.cookie.path=/


# =========================
# Database
# =========================
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USERNAME}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.properties.hibernate.default_schema=authentication


# =========================
# Mail (OTP)
# =========================
spring.mail.host=${MAIL_HOST}
spring.mail.port=${MAIL_PORT}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# OTP validity in minutes
otp.expiration-minutes=5


# =========================
# Actuator (health/metrics)
# =========================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.probes.enabled=true
management.health.defaults.enabled=true